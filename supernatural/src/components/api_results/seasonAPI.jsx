import {useEffect, useState} from "react";
import Layout from '../Layout';
import SampleResult from "./SampleResult";
import EndpointInfo from "./EndpointInfo";
//this page shows the information about this API endpoint along with sample output
export default function SeasonAPI({ seasonNum }){
    const [season, setSeason] = useState(null);

    useEffect(()=>{
        if (!seasonNum) return;

        fetch(`/api/episodesAPI?seasonNum=${seasonNum}`)
        .then(res=>res.json())
        .then(data => setSeason(data));
    }, [seasonNum]);

    if (!season) {
        return <div>Loading...</div>;
    }

    const example_data = ({"num":1,"title":"Season One","imgsrc":"/assets/seasons/season1.jpg","photo":"/assets/titlecards/s1.gif","description":"Brothers Sam and Dean Winchester reunite after years apart when their father goes missing during a hunting trip. As they travel across the country battling urban legends and supernatural creatures, they uncover clues about their family's tragic past and the demon responsible for their mother's death. The main conflict revolves around locating their father and confronting the Yellow-Eyed Demon, Azazel, who is revealed to be connected to a sinister plan involving Sam.","characterIntros":[{"id":"dean","name":"Dean Winchester","text":"A loyal, battle-ready hunter searching for their missing father."},{"id":"sam","name":"Sam Winchester","text":"A reluctant hunter drawn back in after his girlfriend's death."},{"id":"john","name":"John Winchester","text":"A missing hunter whose quest for revenge drives the story."},{"id":"mary","name":"Mary Winchester","text":"Sam and Dean's mom. Once a hunter herself, she was killed by Azazel."},{"id":"azazel","name":"Azazel","text":"The Yellow-Eyed Demon who killed Mary and has eyes for Sam."},{"id":"meg","name":"Meg","text":"A demon who is originally loyal to Hell, but ends up helping the Winchesters."},{"id":"bobby","name":"Bobby Singer","text":"A father figure to Sam and Dean, Bobby is an experienced, no-nonsense hunter who helps guide and support them."},{"id":"missouri","name":"Missouri Mosely","text":"A powerful psychic who helps the Winchesters during a hunt."},{"id":"jess","name":"Jessica (Jess) Moore","text":"Sam's supportive girlfriend at Stanford."},{"id":"harry","name":"Harry Spangler","text":"A supernaturalist who is best friends with Ed. Will eventually launch the Ghostfacers."},{"id":"ed","name":"Ed Zeddmore","text":"A supernaturalist who is friends with Harry. Will eventually launch the Ghostfacers."}],"majorDeaths":[{"id":"jessica","name":"Jessica Moore","text":"Killed by Azazel, then pinned to the ceiling and set on fire. Her death mirrored Mary Winchester's."}],"majorUpdates":[{"id":"sam","name":"Sam Winchester","text":"Leaves Stanford and joins Dean to find dad and hunt all things Supernatural."}],"epNumbers":"22","yearAired":"2005","ratings":"8.5","bodyCount":1,"seasonMonsters":[{"id":"women-in-white","name":"Woman in White","count":1},{"id":"wendigo","name":"Wendigo","count":1},{"id":"vengeful-spirit","name":"Vengeful Spirit","count":3},{"id":"demon","name":"Demon","count":2},{"id":"shapeshifter","name":"Shapeshifter","count":1},{"id":"violent-spirit","name":"Violent Spirit","count":3},{"id":"cursed-insects","name":"Cursed Insects","count":1},{"id":"poltergeist","name":"Poltergeist","count":1},{"id":"deity","name":"Deity","count":1},{"id":"reaper","name":"Reaper","count":1},{"id":"tulpa","name":"Tulpa","count":1},{"id":"shtriga","name":"Shtriga","count":1},{"id":"vampire","name":"Vampire","count":1}],"epInfo":[{"id":"s1e1","title":"Pilot","num":"1","photo":"/assets/episodes/season1/s1e1.jpg","description":"Two brothers witness their mother's paranomal death and are trained to fight by their father, who aim to hunt down the thing that killed his wife.","dir":"David Nutter","writ":"Eric Kripke","aired":"9/13/2005"},{"id":"s1e2","title":"Wendigo","num":"2","photo":"/assets/episodes/season1/s1e2.jpg","description":"Sam and Dean follow the coordinates in their father's journal and land in Colorado, where they investigate the disappearance of several campers.","dir":"David Nutter","writ":"Eric Kripke, Ron Milbauer, and Terri Hughes Burton","aired":"9/20/2005"},{"id":"s1e3","title":"Dead in the Water","num":"3","photo":"/assets/episodes/season1/s1e3.jpg","description":"In a small town in Wisconsin, Sam and Dean investigate a series of mysterious drownings officially explained as suicides.","dir":"Kim Manners","writ":"Sera Gamble and Raelle Tucker","aired":"9/27/2005"},{"id":"s1e4","title":"Phantom Traveler","num":"4","photo":"/assets/episodes/season1/s1e4.jpg","description":"On United Britannia flight 2485, a man possessed by the spirit of the Phantom Traveler causes the plane to crash, leaving only seven survivors.","dir":"Robert Singer","writ":"Richard Hatem","aired":"10/04/2005"},{"id":"s1e5","title":"Bloody Mary","num":"5","photo":"/assets/episodes/season1/s1e5.png","description":"Several high schoolers dare their friend to look into a mirror and repeat a chant, not knowing that this will unleash a series of mysterious murders.","dir":"Peter Ellis","writ":"Eric Kripke, Ron Milbauer, and Terri Hughes Burton","aired":"10/11/2005"},{"id":"s1e6","title":"Skin","num":"6","photo":"/assets/episodes/season1/s1e6.png","description":"Sam and Dean help Sam's old college buddy after he is accused of a murder he swears he didn't commit.","dir":"Robert Duncan McNeill","writ":"John Shiban","aired":"10/18/2005"},{"id":"s1e7","title":"Hookman","num":"7","photo":"/assets/episodes/season1/s1e7.jpg","description":"In a small town in Iowa, Sam and Dean encounter the infamous \"Hook Man,\" a spirit who kills his victims with a shiny hook that serves as his hand.","dir":"David Jackson","writ":"John Shiban","aired":"10/25/2005"},{"id":"s1e8","title":"Bugs","num":"8","photo":"/assets/episodes/season1/s1e8.jpg","description":"Sam and Dean investigate a town's history and find that a new housing development is being built on sacred Native American land.","dir":"Kim Manners","writ":"Rachel Nave and Bill Coakley","aired":"11/08/2005"},{"id":"s1e9","title":"Home","num":"9","photo":"/assets/episodes/season1/s1e9.jpg","description":"Sam is haunted by a vision of a woman trapped in the brothers' childhood home and convinces a reluctant Dean that they need to go back there.","dir":"Ken Girotti","writ":"Eric Kripke","aired":"11/15/2005"},{"id":"s1e10","title":"Asylum","num":"10","photo":"/assets/episodes/season1/s1e10.png","description":"Sam and Dean investigate an abandoned sanitarium and discover the patients had revolted against the cruel punishments inflicted by the head doctor.","dir":"Norman Guy Bee","writ":"Richard Hatem","aired":"11/22/2005"},{"id":"s1e11","title":"Scarecrow","num":"11","photo":"/assets/episodes/season1/s1e11.jpg","description":"Sam and Dean finally make contact with their father, but he tells them to stop looking for him and sends them on another ghost-hunting job.","dir":"Kim Manners","writ":"John Shiban and Patrick Sean Smith","aired":"01/10/2006"},{"id":"s1e12","title":"Faith","num":"12","photo":"/assets/episodes/season1/s1e12.jpg","description":"While battling a demon, Dean is electrocuted, resulting in permanent damage to his heart and leaving him with only a couple months to live.","dir":"Allan Kroeker","writ":"Sera Gamble and Raelle Tucker","aired":"01/17/2006"},{"id":"s1e13","title":"Route 666","num":"13","photo":"/assets/episodes/season1/s1e13.jpg","description":"Dean is contacted by his first love, Cassie, a girl who asks him to come to Mississippi to investigate a string of racially motivated murders.","dir":"Paul Shapiro","writ":"Brad Buckner and Eugenie Ross-Leming","aired":"01/31/2006"},{"id":"s1e14","title":"Nightmare","num":"14","photo":"/assets/episodes/season1/s1e14.jpg","description":"Sam has a premonition in which a man is killed, but the murder is made to look like a suicide.","dir":"Phil Sgriccia","writ":"Sera Gamble and Raelle Tucker","aired":"02/07/2006"},{"id":"s1e15","title":"The Benders","num":"15","photo":"/assets/episodes/season1/s1e15.jpg","description":"Sam and Dean head to Minnesota, where a young boy witnesses a man vanishing into thin air.","dir":"Peter Ellis","writ":"John Shiban","aired":"02/14/2006"},{"id":"s1e16","title":"Shadow","num":"16","photo":"/assets/episodes/season1/s1e16.jpg","description":"While investigating a mysterious death in Chicago, Sam and Dean run into Meg, who is thrilled to see Sam again.","dir":"Kim Manners","writ":"Eric Kripke","aired":"02/28/2006"},{"id":"s1e17","title":"Hell House","num":"17","photo":"/assets/episodes/season1/s1e17.png","description":"Sam and Dean investigate a house haunted by the ghost of a man who killed his six daughters during the 1930s.","dir":"Chris Long","writ":"Trey Callaway","aired":"03/30/2006"},{"id":"s1e18","title":"Something Wicked this Way Comes","num":"18","photo":"/assets/episodes/season1/s1e18.jpg","description":"Sam and Dean investigate a small town in Wisconsin where children are falling into comas for no apparent reason.","dir":"Whitney Ransick","writ":"Daniel Knauf","aired":"04/06/2006"},{"id":"s1e19","title":"Provenance","num":"19","photo":"/assets/episodes/season1/s1e19.jpg","description":"A young husband and wife are killed in their home shortly after buying an antique painting of a family portrait from around 1910.","dir":"Phil Sgriccia","writ":"David Ehrman","aired":"04/13/2006"},{"id":"s1e20","title":"Dead Man's Blood","num":"20","photo":"/assets/episodes/season1/s1e20.jpg","description":"After a vampire hunter who was John's mentor is murdered, Sam and Dean are surprised when John himself shows up to solve the case.","dir":"Tony Wharmby","writ":"Cathryn Humphris and John Shiban","aired":"04/20/2006"},{"id":"s1e21","title":"Salvation","num":"21","photo":"/assets/episodes/season1/s1e21.jpg","description":"After Sam has a vision of a family being attacked, the brothers and their father head to Salvation, Iowa, to save the family in Sam's dream.","dir":"Robert Singer","writ":"Sera Gamble and Raelle Tucker","aired":"04/27/2006"},{"id":"s1e22","title":"Devil's Trap","num":"22","photo":"/assets/episodes/season1/s1e22.jpg","description":"On a mission to save their father from Meg, Sam and Dean seek help from an old family friend.","dir":"Kim Manners","writ":"Eric Kripke","aired":"05/04/2006"}]});

    return (
        <Layout>
        <div className="api-container">
            <div className="api-format">
                <h1>Get Entire Season Information:</h1>
                <EndpointInfo indexId={0} />
                
                <SampleResult example_data={example_data} /> 
            </div>
        </div>
        </Layout>
    );
}